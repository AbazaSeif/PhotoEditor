<?php $canvaswidth = 544;$canvasheight = 586;$dst = @imagecreatetruecolor(432, 245);imagefill($dst, 0, 0, imagecolorallocate($dst, 255, 255, 255));$src_width = $modwidth;$src_height = $modheight; $dst_width = 432;$dst_height = 245;$new_width = $dst_width;$new_height = round($new_width*($src_height/$src_width));$new_x = 0;$new_y = round(($dst_height-$new_height)/2);$next = $new_height < $dst_height;if ($next) {$new_height = $dst_height;$new_width = round($new_height*($src_width/$src_height));$new_x = round(($dst_width - $new_width)/2);$new_y = 0;}imagecopyresampled($dst, $finalimage , $new_x, $new_y, 0, 0, $new_width, $new_height, $src_width, $src_height);$finalimage = @imagecreatetruecolor($canvaswidth, $canvasheight); imagecopy ($finalimage,$dst,61,146,0,0,$canvaswidth,$canvasheight); $png = "../props/5.png"; $effect = imagecreatefrompng($png); imagecopyresampled ($finalimage,$effect,0,0,0,0,$canvaswidth,$canvasheight,$canvaswidth,$canvasheight); ?>